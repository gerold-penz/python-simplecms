

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Technik &mdash; Simple Python Content Management System</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="top" title="Simple Python Content Management System" href="../index.html" />
    <link rel="next" title="Installation" href="../installation/index.html" />
    <link rel="prev" title="Features" href="../features/index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Allgemeiner Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="../installation/index.html" title="Installation"
             accesskey="N">weiter</a> |</li>
        <li class="right" >
          <a href="../features/index.html" title="Features"
             accesskey="P">zurück</a> |</li>
        <li><a href="../index.html">Simple Python CMS</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="technik">
<h1>Technik<a class="headerlink" href="#technik" title="Permalink zu dieser Überschrift">¶</a></h1>
<div class="section" id="programmiersprache">
<span id="index-0"></span><h2>Programmiersprache<a class="headerlink" href="#programmiersprache" title="Permalink zu dieser Überschrift">¶</a></h2>
<p><a class="reference external" href="http://www.python.org/">Python</a>, die schönste Programmiersprache der Welt, natürlich, was sonst? ;-)</p>
</div>
<div class="section" id="web-framework">
<span id="index-1"></span><h2>Web-Framework<a class="headerlink" href="#web-framework" title="Permalink zu dieser Überschrift">¶</a></h2>
<p>Als begeisterter <a class="reference external" href="http://www.python.org/">Python</a>-Programmierer, der kleine und feine Tools schätzt,
werde ich als Web-Framework <a class="reference external" href="http://www.cherrypy.org/">CherryPy</a> einsetzen.</p>
<p>Damit habe ich in den letzen paar Jahren viel Erfahrung sammeln können.
Ich bin so sehr mit CherryPy zufrieden, dass kein anderes Web-Framework in
Frage kommt.</p>
</div>
<div class="section" id="vorlagensprache">
<span id="index-2"></span><h2>Vorlagensprache<a class="headerlink" href="#vorlagensprache" title="Permalink zu dieser Überschrift">¶</a></h2>
<p>Den Schritt zu Python 3.x möchte ich mir nicht versperren.
Deshalb werde ich diesmal nicht mehr auf <a class="reference external" href="http://www.cheetahtemplate.org/">CheetahTemplate</a> zurückgreifen.
Es ist zwar schade, denn CheetahTemplate bietet mir die volle Flexibilität
von Python, ohne kompliziert zu wirken, was ich sehr schätze.</p>
<p>Da sich <a class="reference external" href="http://www.makotemplates.org/">Mako</a> sehr ähnlich wie CheetahTemplate anfühlt, aber auch mit
Python 3.x funktioniert, habe ich mich für Mako entschieden. Weiters kommt dazu,
dass Mako ausgeklügelte Caching-Mechanismen anbietet und Mako-Vorlagen nicht wie
ein <em>Klammerngewitter</em> ({{ }}) ;-) aussehen.
Ich mag es, dass Mako <em>nicht versucht</em>, die Möglichkeiten von Python zu
beschneiden. Andere Vorlagensprachen tun ja alles um komplett anders als die
gewohnte Programmiersprache auszusehen. Was aber ein einfaches Zusammensetzen
und mehrmaliges Verwenden von Variablen innerhalb der Vorlage meist unterbindet.
So müsste man jede <em>Kleinigkeit</em> in den Programmcode verlagern, was ich nicht
immer für die beste Lösung halte.</p>
</div>
<div class="section" id="css-framework">
<span id="index-3"></span><h2>CSS Framework<a class="headerlink" href="#css-framework" title="Permalink zu dieser Überschrift">¶</a></h2>
<p><a class="reference external" href="http://www.yaml.de/">YAML</a> scheint für meine Zwecke ideal, da sich jeder selbst sein Layout
damit gestalten kann. Und Platzhalter/Textmakros zeigen die Stellen an,
die dynamisch mit Content befüllt werden sollen.
Die Dokumentation zu YAML ist hervorragend.
Ich habe noch keine Erfahrung mit YAML, aber ausprobieren werde ich es sicher.</p>
<p>Mit <a class="reference external" href="http://www.thinkintags.com/">Thinkintags</a> gibt es ein aufstrebendes Werkzeug um HTML-Seiten
zu designen. Vielleicht bringe ich es so hin, dass man die damit
erstellte Struktur direkt in das CMS einbinden kann. Unbedingt ausprobieren.</p>
</div>
<div class="section" id="datenbanksystem">
<span id="index-4"></span><h2>Datenbanksystem<a class="headerlink" href="#datenbanksystem" title="Permalink zu dieser Überschrift">¶</a></h2>
<div class="section" id="uberlegungen-die-wieder-verworfen-wurden">
<h3>Überlegungen die wieder verworfen wurden<a class="headerlink" href="#uberlegungen-die-wieder-verworfen-wurden" title="Permalink zu dieser Überschrift">¶</a></h3>
<p>Eigentlich bräuchte ich so etwas schnelles wie <a class="reference external" href="http://redis.io/">Redis</a>, einen einfachen
Dokumentenspeicher wie <a class="reference external" href="http://couchdb.apache.org/">CouchDB</a> und eine einfach einzubauende Datenbank
wie <a class="reference external" href="http://www.sqlite.org/">SQLite</a>.</p>
<p>Für Redis und CouchDB müssen TCP-Ports geöffnet werden. Redis lässt sich unter
Linux einfach installieren und ist superschnell. Wenn aber mehrere
&#8220;Simple Python CMS&#8221; auf einem System betrieben werden sollen,
muss man sich eine gute Trennung zwischen den einzelnen Datenbanken
überlegen oder man lässt Redis für jede &#8220;Simple Python CMS&#8221;-Instanz
als eigenständiges Programm laufen.
Dann ist aber noch zu bedenken, dass einzelne Instanzen gezielt gestartet
und gestoppt werden müssen. Was wieder einen erhöhten Aufwand beim
Installieren bringt, den nicht jeder schaffen wird. Ähnliches gilt für
CouchDB. Eigener TCP-Port. Mehrere Instanzen nur umständlich.</p>
<p>SQLite ist ein &#8220;Relationales Datenbanksystem&#8221;, das die Daten in nur <em>einer</em>
Datei hält. Mehrere Programme/Prozesse können gleichzeitig lesend auf die
Datenbankdatei zugreifen.
Beim Schreiben wird die Datenbank kurzfristig für die anderen zugreifenden
Programme gesperrt.
Damit kann man bei kleinen bis mittleren Content Management Systemen
sicher gut leben.</p>
<p>Bei CouchDB ist es problemlos möglich, weitere Datenfelder im Laufe der
Entwicklung zu den Datenbank-Dokumenten hinzuzufügen, ohne dass man etwas
an der Struktur der Datenbank ändern muss. Dafür ist die Abfrage der Daten
nicht so einfach wie bei Redis oder SQLite.</p>
<p>Redis bietet vielfältige Möglichkeiten und interessante Datenstrukturen an um
die Daten zu speichern und schnell wieder zu finden.
Noch dazu ist Redis wirklich schnell und lässt sich von Python aus wunderbar
einfach programmieren. Wie bei CouchDB lassen sich problemlos weitere
Datenfelder im Laufe der Entwicklung hinzufügen, ohne die Datenbank-Strukturen
aller &#8220;Simple Python CMS&#8221;-Instanzen ständig aktuell halten zu müssen. Diese
aktualisieren sich sozusagen von selbst, wenn man nicht zu chaotisch programmiert.</p>
<p>Mal sehen, ob ich eine Möglichkeit finde, Redis zu verwenden...</p>
<div class="section" id="uberlegungen-wie-redis-verwendet-werden-konnte">
<h4>Überlegungen, wie Redis verwendet werden könnte<a class="headerlink" href="#uberlegungen-wie-redis-verwendet-werden-konnte" title="Permalink zu dieser Überschrift">¶</a></h4>
<p>Redis wird per <cite>subprocess.Popen</cite> in einem eigenen Thread gestartet. Statt
einer TCP-Verbindung wird die Kommunikation per Unix-Socket aufgebaut. Das ist
schneller als TCP und bietet eine einfache Möglichkeit, für jede
&#8220;Simple Python CMS&#8221;-Instanz einen eigenen Socket im Datenbankordner der
Instanz zu öffnen.</p>
<p>Da es von jeder &#8220;Simple Python CMS&#8221;-Instanz normalerweise nur <em>einen Prozess</em>
gibt, wird Redis nur einmal je &#8220;Simple Python CMS&#8221;-Instanz gestartet.
Ich werde aber die Möglichkeit offen halten, dass Redis als eigenständiger
Server läuft und eine &#8220;Simple Python CMS&#8221;-Instanz mehrmals
gestartet werden kann. Das bedeutet aber mehr Aufwand für den Admin
und soll nicht der Normalfall werden.</p>
</div>
</div>
<div class="section" id="fazit">
<h3>Fazit<a class="headerlink" href="#fazit" title="Permalink zu dieser Überschrift">¶</a></h3>
<p>Nach vielen, vielen Stunden in denen ich über die perfekte Datenbanklösung
nachgedacht habe &#8211; bin ich zu dem Schluss gekommen,
die Daten in das Dateisystem und nicht in eine Datenbank zu schreiben.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/simple-python-cms-logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../index.html">Inhalt</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Technik</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation</a></li>
</ul>

  <h4>Vorheriges Thema</h4>
  <p class="topless"><a href="../features/index.html"
                        title="vorheriges Kapitel">Features</a></p>
  <h4>Nächstes Thema</h4>
  <p class="topless"><a href="../installation/index.html"
                        title="nächstes Kapitel">Installation</a></p>
  <h3>Diese Seite</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/technik/index.txt"
           rel="nofollow">Quelltext anzeigen</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Schnellsuche</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Los" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Geben Sie Suchbegriffe oder einen Modul-, Klassen- oder Funktionsnamen ein.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Allgemeiner Index"
             >Index</a></li>
        <li class="right" >
          <a href="../installation/index.html" title="Installation"
             >weiter</a> |</li>
        <li class="right" >
          <a href="../features/index.html" title="Features"
             >zurück</a> |</li>
        <li><a href="../index.html">Simple Python CMS</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Gerold Penz.
      Mit <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3 erstellt.
    </div>
  </body>
</html>